## Механизм XDTO

![[Pasted image 20241010151954.png]]
![[Pasted image 20241010152146.png]]
### Реализация

```js
&НаКлиенте
Процедура ПрочитатьФайл_XML()

	ЧтениеXML = Новый ЧтениеXML;
	ЧтениеXML.ОткрытьФайл(Объект.ПутьКФайлу);
	
	ДокументXDTO = ФабрикаXDTO.ПрочитатьXML(ЧтениеXML);
	
	Для каждого ЭлементXDTO Из ДокументXDTO.Contragent Цикл
		НоваяСтрока = Объект.ТаблицаДанных.Добавить();
		НоваяСтрока.Наименование = ЭлементXDTO.NAME;
		НоваяСтрока.ПолноеНаименование = ЭлементXDTO.FULL_NAME;
		НоваяСтрока.УНП = ЭлементXDTO.UNP;
	КонецЦикла;
	
КонецПроцедуры
```
## Стандартный метод

![[Pasted image 20241010135252.png]]
### Реализация

```js
&НаКлиенте
Процедура ПрочитатьФайл_XML()

	ДокументXML = Новый ЧтениеXML;
	ДокументXML.ОткрытьФайл(Объект.ПутьКФайлу);
	
	ИмяТекущегоУзла = "";
	Пока ДокументXML.Прочитать() Цикл
		
		Если ДокументXML.Имя = "Contragent" И ДокументXML.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
			НоваяСтрока = Объект.ТаблицаДанных.Добавить();
		ИначеЕсли ДокументXML.Имя = "NAME" И ДокументXML.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
			ИмяТекущегоУзла = "NAME";
		ИначеЕсли ДокументXML.Имя = "UNP" И ДокументXML.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
			ИмяТекущегоУзла = "UNP";
		ИначеЕсли ДокументXML.Имя = "FULL_NAME" И ДокументXML.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
			ИмяТекущегоУзла = "FULL_NAME";
		ИначеЕсли ДокументXML.ТипУзла = ТипУзлаXML.Текст Тогда
			
			Если ИмяТекущегоУзла = "NAME" Тогда
				НоваяСтрока.Наименование = ДокументXML.Значение;
			ИначеЕсли  ИмяТекущегоУзла = "UNP" Тогда
				НоваяСтрока.УНП = ДокументXML.Значение;
			ИначеЕсли ИмяТекущегоУзла = "FULL_NAME" Тогда
				НоваяСтрока.ПолноеНаименование = ДокументXML.Значение;
			КонецЕсли;
			
		КонецЕсли;
	КонецЦикла;
	
КонецПроцедуры
```

