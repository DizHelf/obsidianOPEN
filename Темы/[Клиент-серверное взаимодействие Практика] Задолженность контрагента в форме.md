## Автоматический вывод задолженности при запуске формы

```js
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СтруктураОтбора = Новый Структура("Контрагент", Объект.Ссылка);
	ТаблицаОтбора = РегистрыНакопления.Взаиморасчеты.Остатки(ТекущаяДата(),СтруктураОтбора);
	
	Если ТаблицаОтбора.Количество() > 0 Тогда
		СуммаЗадолженности = ТаблицаОтбора[0].Сумма;
	КонецЕсли;

КонецПроцедуры
```

## Обновление задолженности при нажатии на кнопку

```js
&НаСервере
Процедура ВыводЗадолженности()

	СтруктураОтбора = Новый Структура("Контрагент", Объект.Ссылка);
	ТаблицаОтбора = РегистрыНакопления.Взаиморасчеты.Остатки(ТекущаяДата(),СтруктураОтбора);
	
	Если ТаблицаОтбора.Количество() > 0 Тогда
		СуммаЗадолженности = ТаблицаОтбора[0].Сумма;
	КонецЕсли;

КонецПроцедуры // ()

&НаКлиенте
Процедура ПолучениеЗадолженности(Команда)
	ВыводЗадолженности();
КонецПроцедуры
```


